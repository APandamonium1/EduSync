name: Example
on:   
  push:
    branches: [main] # add with comma for more branches to monitor
  pull_request:
    branches: [main]

jobs:
  example:
    name: Create Ubuntu OS
    runs-on: ubuntu-latest
    steps:
      - name: Setup Go
        uses: actions/setup-go@v5.0.1
        with:
          go-version: 1.22.3
          
      - name: Check Go Version
        run: go version

      - name: Checkout Repo   # to pull out current repo code
        uses: actions/checkout@v4.1.5

      - name: Install dependencies
        run: |
          #go mod init calc # for go mod. If we use go build, it will do the same for the 3 lines.
          go mod tidy
          go get github.com/franela/goblin
          ls

      - name: Go Test
        run: |
          go test

      - if: ${{success()}}
        name: Discord Message
        uses: discord-actions/message@v2
        with:
          webhookUrl: https://discord.com/api/webhooks/1237964301201965127/ZYe3gYTeweYEfA_Q0I-JWFVXA2dVMp7Pw7jeNNd2UlFCtvIS8ZvIN_CRQ-gUwSgl7eD2
          message: successful ${{github.ref}}
          

      - if: ${{failure()}}
        name: Discord Message
        uses: discord-actions/message@v2
        with:
          webhookUrl: https://discord.com/api/webhooks/1237964301201965127/ZYe3gYTeweYEfA_Q0I-JWFVXA2dVMp7Pw7jeNNd2UlFCtvIS8ZvIN_CRQ-gUwSgl7eD2
          message: FAIL HAHAHHA

      - name: Telegram Msg
        uses: akeylimepie/telegram-action@v0.1.2
        with: 
          token: 6795256205:AAHm19-9zOM4jMtEtVOSDGExXAtg5J67rKc
          chatid: -4244340354
          message: TIME TO DO WORK LIAO
      
      #- name: Setup Python
        #uses: actions/setup-python@v5.1.0
        #with:
          #python-version: 3.8
          
      #- name: Show Python Version
        #run: |
          #ls
          #python --version
          #ls
          #pip3 install pandas
    
